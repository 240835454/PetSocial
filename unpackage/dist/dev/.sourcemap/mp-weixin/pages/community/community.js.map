{"version":3,"sources":["webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/main.js","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue?0a1c","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue?1e42","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue?11c9","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue?5fe1","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue?37ad","webpack:///F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue?dd8f"],"names":["createPage","Page","components","chatInput","data","post","user_id","username","index","comment_index","input_placeholder","focus","is_reply","showInput","screenHeight","platform","windowHeight","loadMoreText","showLoadMore","hide","info","api","$API","list","now_page","size","total","freshList","onLoad","uni","getSystemInfo","success","res","startPullDownRefresh","getUserInfo","getList","onShow","onWindowResize","adjust","onPageScroll","e","scrollTop","onHide","offWindowResize","onUnload","max","onReachBottom","account","getStorageSync","length","showToast","icon","title","duration","setTimeout","$http","get","then","i","j","likeList","uid","islike","concat","console","log","catch","err","onPullDownRefresh","stopPullDownRefresh","onNavigationBarButtonTap","navigateTo","computed","methods","changeBgImage","that","chooseImage","count","uploadFile","tempFilePaths","put","code","test","url","like","push","name","avatar","post_id","JSON","stringify","splice","comment","createSelectorQuery","selectViewport","scrollOffset","view","select","boundingClientRect","top","height","pageScrollTo","exec","reply","replyTo","comments","content","blur","init_input","send_comment","message","comment_content","to_uid","to_name","to_avatar","previewImage","imageList","image_index","current","urls","goPublish","fail","complete","goPublish_video"],"mappings":"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","file":"pages/community/community.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/community/community.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./community.vue?vue&type=template&id=3cb968b1&scoped=true&\"\nvar renderjs\nimport script from \"./community.vue?vue&type=script&lang=js&\"\nexport * from \"./community.vue?vue&type=script&lang=js&\"\nimport style0 from \"./community.vue?vue&type=style&index=0&id=3cb968b1&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cb968b1\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3cb968b1')) {\n      api.createRecord('3cb968b1', component.options)\n    } else {\n      api.reload('3cb968b1', component.options)\n    }\n    module.hot.accept(\"./community.vue?vue&type=template&id=3cb968b1&scoped=true&\", function () {\n      api.rerender('3cb968b1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/谭鑫锋/宠物社交平台/PetSocial/pages/community/community.vue\"\nexport default component.exports","export * from \"-!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=template&id=3cb968b1&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport chatInput from '../../components/im-chat/chatinput.vue'; //input框\nimport postData from '@/public/js/index.post.data.js'; //朋友圈数据\nimport {\n\ttimeAgo\n} from '@/public/js/formatTime.js'; // 时间\n\nexport default {\n\tcomponents: {\n\t\tchatInput\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpost: [], //模拟数据\n\t\t\tuser_id: 4,\n\t\t\tusername: 'Liuxy',\n\n\t\t\tindex: '',\n\t\t\tcomment_index: '',\n\n\t\t\tinput_placeholder: '评论', //占位内容\n\t\t\tfocus: false, //是否自动聚焦输入框\n\t\t\tis_reply: false, //回复还是评论 \n\t\t\tshowInput: false, //评论输入框\n\n\t\t\tscreenHeight: '', //屏幕高度(系统)\n\t\t\tplatform: '',\n\t\t\twindowHeight: '', //可用窗口高度(不计入软键盘)\n\n\t\t\tloadMoreText: \"加载中...\",\n\t\t\tshowLoadMore: false,\n\t\t\thide: true,\n\t\t\tinfo: '',\n\t\t\tapi: this.$API,\n\t\t\tlist: [],\n\t\t\tnow_page: 1,\n\t\t\tsize: 10,\n\t\t\ttotal: '',\n\t\t\tfreshList: []\n\t\t}\n\t},\n\t// mounted() { \n\t// \tuni.getStorage({ \n\t// \t\tkey: 'posts', \n\t// \t\tsuccess: function(res) {\n\t// \t\t\tconsole.log(res.data);\n\t// \t\t\tthis.posts = res.data;\n\t// \t\t}\n\t// \t});\n\t// },\n\tonLoad() {\n\t\tuni.getSystemInfo({ //获取设备信息 \n\t\t\tsuccess: (res) => {\n\t\t\t\tthis.screenHeight = res.screenHeight;\n\t\t\t\tthis.platform = res.platform;\n\t\t\t}\n\t\t});\n\t\tuni.startPullDownRefresh();\n\t\tthis.getUserInfo();\n\t\tthis.getList();\n\t},\n\tonShow() {\n\t\tuni.onWindowResize((res) => { //监听窗口尺寸变化,窗口尺寸不包括底部导航栏\n\t\t\tif (this.platform === 'ios') {\n\t\t\t\tthis.windowHeight = res.size.windowHeight;\n\t\t\t\tthis.adjust();\n\t\t\t} else {\n\t\t\t\tif (this.screenHeight - res.size.windowHeight > 60 && this.windowHeight <= res.size.windowHeight) {\n\t\t\t\t\tthis.windowHeight = res.size.windowHeight;\n\t\t\t\t\tthis.adjust();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.getList();\n\t\tthis.getUserInfo();\n\t},\n\tonPageScroll(e) {\n\t\tif (e.scrollTop >= 144) {\n\t\t\tthis.hide = false;\n\t\t} else {\n\t\t\tthis.hide = true;\n\t\t}\n\t},\n\tonHide() {\n\t\tuni.offWindowResize(); //取消监听窗口尺寸变化\n\t},\n\tonUnload() {\n\t\tthis.max = 0,\n\t\t\tthis.data = [],\n\t\t\tthis.loadMoreText = \"加载更多\",\n\t\t\tthis.showLoadMore = false;\n\t},\n\tonReachBottom() { //监听上拉触底事件\n\t\t// this.showLoadMore = true;\n\n\t\tlet account = uni.getStorageSync('account');\n\t\tif (this.post.length < this.total) {\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'loading',\n\t\t\t\ttitle: '正在加载',\n\t\t\t\tduration: 1000\n\t\t\t})\n\t\t\tthis.now_page += 1;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$http.get('/Community/dynamic', {\n\t\t\t\t\t\tindex: this.now_page,\n\t\t\t\t\t\tsize: this.size\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.freshList = res.data.list;\n\t\t\t\t\t\tfor (let i = 0; i < this.freshList.length; i++) {\n\t\t\t\t\t\t\tfor (let j = 0; j < this.freshList[i].likeList.length; j++) {\n\t\t\t\t\t\t\t\tif (this.freshList[i].likeList[j].uid == account) {\n\t\t\t\t\t\t\t\t\tthis.freshList[i].islike = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.post = this.post.concat(this.freshList);\n\t\t\t\t\t\tconsole.log(this.post);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t},1000)\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'none',\n\t\t\t\ttitle: '暂无更多数据'\n\t\t\t})\n\t\t}\n\t},\n\tonPullDownRefresh() { //监听下拉刷新动作\n\t\tconsole.log('onPullDownRefresh');\n\t\t// 这里获取数据\n\t\tsetTimeout(function() {\n\t\t\t//初始化数据\n\t\t\tuni.stopPullDownRefresh(); //停止下拉刷新\n\t\t}, 1000);\n\t},\n\tonNavigationBarButtonTap(e) { //监听标题栏点击事件\n\t\tif (e.index == 0) {\n\t\t\tthis.navigateTo('../publish/publish')\n\t\t}\n\t},\n\tcomputed: {\n\n\t},\n\tmethods: {\n\t\tgetList() {\n\t\t\tlet account = uni.getStorageSync('account');\n\t\t\tthis.$http.get('/Community/dynamic', {\n\t\t\t\t\tindex: this.now_page,\n\t\t\t\t\tsize: this.size\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.post = res.data.list;\n\t\t\t\t\tthis.total = res.data.total;\n\t\t\t\t\tfor (let i = 0; i < this.post.length; i++) {\n\t\t\t\t\t\tfor (let j = 0; j < this.post[i].likeList.length; j++) {\n\t\t\t\t\t\t\tif (this.post[i].likeList[j].uid == account) {\n\t\t\t\t\t\t\t\tthis.post[i].islike = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(this.post);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '系统错误，请稍后再试'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\t\tgetUserInfo() {\n\t\t\tthis.$http.get('/User/userInfo')\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.info = res.data;\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '请重新登录'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\t\t// 修改背景图片\n\t\tchangeBgImage() {\n\t\t\tlet that = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.$http.uploadFile(res.tempFilePaths[0]).then(res => {\n\t\t\t\t\t\t\tthis.$http.put('/User/changeBgImage', res.data)\n\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\tif (res.code === 1) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\t\t\ttitle: '修改成功!',\n\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getList();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttest() {\n\t\t\tthis.navigateTo('../test/test');\n\t\t},\n\t\tnavigateTo(url) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: url\n\t\t\t});\n\t\t},\n\t\tlike(index) {\n\t\t\tlet account = uni.getStorageSync('account');\n\t\t\tif (this.post[index].islike == 0) {\n\t\t\t\tthis.post[index].islike = 1;\n\t\t\t\tthis.post[index].likeList.push({\n\t\t\t\t\tuid: account,\n\t\t\t\t\tname: this.info.name,\n\t\t\t\t\tavatar: this.info.avatar\n\t\t\t\t});\n\t\t\t\tthis.$http.post('/Community/like', {\n\t\t\t\t\tpost_id: this.post[index].post_id,\n\t\t\t\t\tlikeList: JSON.stringify(this.post[index].likeList)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.post[index].islike = 0;\n\t\t\t\tfor (let i = 0; i < this.post[index].likeList.length; i++) {\n\t\t\t\t\tif (this.post[index].likeList[i].uid == account) {\n\t\t\t\t\t\tthis.post[index].likeList.splice(i, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$http.post('/Community/like', {\n\t\t\t\t\t\tpost_id: this.post[index].post_id,\n\t\t\t\t\t\tlikeList: JSON.stringify(this.post[index].likeList)\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomment(index) {\n\t\t\tthis.showInput = true; //调起input框\n\t\t\tthis.focus = true;\n\t\t\tthis.index = index;\n\t\t},\n\t\tadjust() { //当弹出软键盘发生评论动作时,调整页面位置pageScrollTo\n\t\t\treturn;\n\t\t\tuni.createSelectorQuery().selectViewport().scrollOffset(res => {\n\t\t\t\tvar scrollTop = res.scrollTop;\n\t\t\t\tlet view = uni.createSelectorQuery().select(\"#post-\" + this.index);\n\t\t\t\tview.boundingClientRect(data => {\n\t\t\t\t\tconsole.log(\"data:\" + JSON.stringify(data));\n\t\t\t\t\tconsole.log(\"手机屏幕高度:\" + this.screenHeight);\n\t\t\t\t\tconsole.log(\"竖直滚动位置\" + scrollTop);\n\t\t\t\t\tconsole.log(\"节点离页面顶部的距离为\" + data.top);\n\t\t\t\t\tconsole.log(\"节点高度为\" + data.height);\n\t\t\t\t\tconsole.log(\"窗口高度为\" + this.windowHeight);\n\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\tscrollTop: scrollTop - (this.windowHeight - (data.height + data.top + 45)), //一顿乱算\n\t\t\t\t\t\t// scrollTop: 50, \n\t\t\t\t\t\tduration: 300\n\t\t\t\t\t});\n\t\t\t\t}).exec();\n\t\t\t}).exec();\n\t\t},\n\t\treply(index, comment_index) {\n\t\t\tthis.is_reply = true; //回复中\n\t\t\tthis.showInput = true; //调起input框\n\t\t\tlet replyTo = this.post[index].comments.content[comment_index].name;\n\t\t\tthis.input_placeholder = '回复' + replyTo;\n\t\t\tthis.index = index; //post索引\n\t\t\tthis.comment_index = comment_index; //评论索引\n\t\t\tthis.focus = true;\n\t\t},\n\t\tblur: function() {\n\t\t\tthis.init_input();\n\t\t},\n\t\tsend_comment: function(message) {\n\t\t\tlet account = uni.getStorageSync('account');\n\t\t\tlet that = this;\n\t\t\t// if (this.is_reply) {\n\t\t\t// \tvar reply_username = this.post[this.index].comments.content[this.comment_index].name;\n\t\t\t// \tvar comment_content = '回复' + reply_username + ':' + message.content;\n\t\t\t// } else {\n\t\t\tlet comment_content = message.content;\n\t\t\t// }\n\t\t\t// this.post[this.index].comments.total += 1; \n\t\t\tthis.post[this.index].comments.content.push({\n\t\t\t\tuid: account,\n\t\t\t\tname: this.info.name,\n\t\t\t\tavatar: this.info.avatar,\n\t\t\t\tcontent: comment_content, //直接获取input中的值 \n\t\t\t\tto_uid: this.post[this.index].comments.content[this.comment_index] ? this.post[this.index].comments.content[\n\t\t\t\t\tthis.comment_index].uid : '',\n\t\t\t\tto_name: this.post[this.index].comments.content[this.comment_index] ? this.post[this.index].comments.content[\n\t\t\t\t\tthis.comment_index].name : '',\n\t\t\t\tto_avatar: this.post[this.index].comments.content[this.comment_index] ? this.post[this.index].comments.content[\n\t\t\t\t\tthis.comment_index].avatar : ''\n\t\t\t});\n\t\t\tthis.$http.post('/Community/comments', {\n\t\t\t\tpost_id: this.post[this.index].post_id,\n\t\t\t\tcomments: JSON.stringify(this.post[this.index].comments)\n\t\t\t}).then(res => {\n\t\t\t\tthat.getList();\n\t\t\t}).catch(err => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.init_input();\n\t\t},\n\t\tinit_input() {\n\t\t\tthis.showInput = false;\n\t\t\tthis.focus = false;\n\t\t\tthis.input_placeholder = '评论';\n\t\t\tthis.is_reply = false;\n\t\t},\n\t\tpreviewImage(imageList, image_index) {\n\t\t\tfor (let i = 0; i < imageList.length; i++) {\n\t\t\t\timageList[i] = this.api + imageList[i];\n\t\t\t}\n\t\t\tconsole.log(imageList)\n\t\t\tvar current = imageList[image_index];\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: current,\n\t\t\t\turls: imageList\n\t\t\t});\n\t\t},\n\t\tgoPublish() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'publish?avatar=' + this.info.avatar + '&name=' + this.info.name,\n\t\t\t\tsuccess: res => {},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t},\n\t\tgoPublish_video() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'publish_video?avatar=' + this.info.avatar + '&name=' + this.info.name,\n\t\t\t\tsuccess: res => {},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t}\n\t},\n}\n","import mod from \"-!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=style&index=0&id=3cb968b1&scoped=true&lang=less&\"; export default mod; export * from \"-!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Documents\\\\Downloads\\\\HBuilderX.2.3.7.20191024.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=style&index=0&id=3cb968b1&scoped=true&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}