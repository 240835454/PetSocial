{"version":3,"sources":["webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/main.js","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue?898b","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue?3d5b","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue?52d9","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue?0b99","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue?3088","webpack:///C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue?48f8"],"names":["createPage","Page","components","chatInput","data","post","comments","user_id","username","index","comment_index","input_placeholder","focus","is_reply","showInput","screenHeight","platform","windowHeight","loadMoreText","showLoadMore","hide","info","api","$API","list","now_page","size","total","freshList","onLoad","uni","getSystemInfo","success","res","startPullDownRefresh","getUserInfo","getList","getComments","onShow","onWindowResize","adjust","onPageScroll","e","scrollTop","onHide","offWindowResize","onUnload","max","onReachBottom","account","getStorageSync","length","showToast","icon","title","duration","setTimeout","$http","get","then","i","j","likeList","uid","islike","concat","console","log","catch","err","onPullDownRefresh","stopPullDownRefresh","onNavigationBarButtonTap","navigateTo","computed","methods","changeBgImage","that","chooseImage","count","uploadFile","tempFilePaths","put","code","test","url","like","date","Date","push","name","avatar","post_id","post_uid","post_avatar","post_name","post_content","JSON","stringify","content","timestamp","getTime","like_id","splice","comment","createSelectorQuery","selectViewport","scrollOffset","view","select","boundingClientRect","top","height","pageScrollTo","exec","reply","replyTo","blur","init_input","send_comment","message","comment_content","to_uid","to_name","to_avatar","previewImage","imageList","image_index","current","urls","goPublish","fail","complete","goPublish_video","enterDetail","id"],"mappings":"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","file":"pages/community/community.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/community/community.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./community.vue?vue&type=template&id=1f3705f2&scoped=true&\"\nvar renderjs\nimport script from \"./community.vue?vue&type=script&lang=js&\"\nexport * from \"./community.vue?vue&type=script&lang=js&\"\nimport style0 from \"./community.vue?vue&type=style&index=0&id=1f3705f2&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f3705f2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/jm/Desktop/毕设项目/PetSocial/pages/community/community.vue\"\nexport default component.exports","export * from \"-!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=template&id=1f3705f2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport chatInput from '../../components/im-chat/chatinput.vue'; //input框\nimport postData from '@/public/js/index.post.data.js'; //朋友圈数据\nimport {\n\ttimeAgo\n} from '@/public/js/formatTime.js'; // 时间\n\nexport default {\n\tcomponents: {\n\t\tchatInput\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpost: [], //动态列表\n\t\t\tcomments: [], // 评论列表\n\t\t\tuser_id: 4,\n\t\t\tusername: 'Liuxy',\n\t\t\tindex: '',\n\t\t\tcomment_index: '',\n\n\t\t\tinput_placeholder: '评论', //占位内容\n\t\t\tfocus: false, //是否自动聚焦输入框 \n\t\t\tis_reply: false, //回复还是评论 \n\t\t\tshowInput: false, //评论输入框\n\n\t\t\tscreenHeight: '', //屏幕高度(系统)\n\t\t\tplatform: '',\n\t\t\twindowHeight: '', //可用窗口高度(不计入软键盘)\n\n\t\t\tloadMoreText: \"加载中...\",\n\t\t\tshowLoadMore: false,\n\t\t\thide: true,\n\t\t\tinfo: '',\n\t\t\tapi: this.$API,\n\t\t\tlist: [],\n\t\t\tnow_page: 1,\n\t\t\tsize: 10,\n\t\t\ttotal: '',\n\t\t\tfreshList: []\n\t\t}\n\t},\n\t// mounted() { \n\t// \tuni.getStorage({ \n\t// \t\tkey: 'posts', \n\t// \t\tsuccess: function(res) {\n\t// \t\t\tconsole.log(res.data);\n\t// \t\t\tthis.posts = res.data;\n\t// \t\t}\n\t// \t});\n\t// },\n\tasync onLoad() {\n\t\tuni.getSystemInfo({ //获取设备信息 \n\t\t\tsuccess: (res) => {\n\t\t\t\tthis.screenHeight = res.screenHeight;\n\t\t\t\tthis.platform = res.platform;\n\t\t\t}\n\t\t});\n\t\tuni.startPullDownRefresh(); \n\t\tawait this.getUserInfo();\n\t\tawait this.getList();\n\t\tawait this.getComments();\n\t\t// for(let i = 0;i<this.comments.length;i++){\n\t\t// \tif(this.comments[i].post_id === this.post.)\n\t\t// }\n\t}, \n\tonShow() {\n\t\tuni.onWindowResize((res) => { //监听窗口尺寸变化,窗口尺寸不包括底部导航栏\n\t\t\tif (this.platform === 'ios') {\n\t\t\t\tthis.windowHeight = res.size.windowHeight;\n\t\t\t\tthis.adjust();\n\t\t\t} else {\n\t\t\t\tif (this.screenHeight - res.size.windowHeight > 60 && this.windowHeight <= res.size.windowHeight) {\n\t\t\t\t\tthis.windowHeight = res.size.windowHeight;\n\t\t\t\t\tthis.adjust();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.now_page = 1;\n\t\tthis.getList();\n\t\tthis.getUserInfo(); \n\t},\n\tonPageScroll(e) { \n\t\tif (e.scrollTop >= 144) {\n\t\t\tthis.hide = false;\n\t\t} else {\n\t\t\tthis.hide = true;\n\t\t}\n\t},\n\tonHide() {\n\t\tuni.offWindowResize(); //取消监听窗口尺寸变化\n\t},\n\tonUnload() {\n\t\tthis.max = 0,\n\t\t\tthis.data = [],\n\t\t\tthis.loadMoreText = \"加载更多\",\n\t\t\tthis.showLoadMore = false;\n\t},\n\tonReachBottom() { //监听上拉触底事件\n\t\t// this.showLoadMore = true;\n\n\t\tlet account = uni.getStorageSync('account');\n\t\tif (this.post.length < this.total) {\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'loading',\n\t\t\t\ttitle: '正在加载',\n\t\t\t\tduration: 1000\n\t\t\t})\n\t\t\tthis.now_page += 1;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$http.get('/Community/dynamic', {\n\t\t\t\t\t\tindex: this.now_page,\n\t\t\t\t\t\tsize: this.size\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.freshList = res.data.list;\n\t\t\t\t\t\tfor (let i = 0; i < this.freshList.length; i++) {\n\t\t\t\t\t\t\tfor (let j = 0; j < this.freshList[i].likeList.length; j++) {\n\t\t\t\t\t\t\t\tif (this.freshList[i].likeList[j].uid == account) {\n\t\t\t\t\t\t\t\t\tthis.freshList[i].islike = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t} \n\t\t\t\t\t\tthis.post = this.post.concat(this.freshList);\n\t\t\t\t\t\tconsole.log(this.post);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t}, 1000)\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'none',\n\t\t\t\ttitle: '暂无更多数据'\n\t\t\t})\n\t\t}\n\t},\n\tonPullDownRefresh() { //监听下拉刷新动作\n\t\tconsole.log('onPullDownRefresh');\n\t\t// 这里获取数据\n\t\tsetTimeout(function() {\n\t\t\t//初始化数据\n\t\t\tuni.stopPullDownRefresh(); //停止下拉刷新\n\t\t}, 1000);\n\t},\n\tonNavigationBarButtonTap(e) { //监听标题栏点击事件\n\t\tif (e.index == 0) {\n\t\t\tthis.navigateTo('../publish/publish')\n\t\t}\n\t},\n\tcomputed: {\n\n\t},\n\tmethods: {\n\t\tgetList() {\n\t\t\tlet account = uni.getStorageSync('account');\n\t\t\tthis.$http.get('/Community/dynamic', {\n\t\t\t\t\tindex: this.now_page, \n\t\t\t\t\tsize: this.size\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.post = res.data.list;\n\t\t\t\t\tthis.total = res.data.total;\n\t\t\t\t\tfor (let i = 0; i < this.post.length; i++) {\n\t\t\t\t\t\tfor (let j = 0; j < this.post[i].likeList.length; j++) {\n\t\t\t\t\t\t\tif (this.post[i].likeList[j].uid == account) {\n\t\t\t\t\t\t\t\tthis.post[i].islike = 1;\n\t\t\t\t\t\t\t}  \n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(this.post);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '系统错误，请稍后再试'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\t\tgetComments(){\n\t\t\t// this.$http.get('/Community/commentsList').then(res=>{\n\t\t\t\t\n\t\t\t// }).catch(err=>{\n\t\t\t// \tuni.showToast({\n\t\t\t// \t\ticon: 'none',\n\t\t\t// \t\ttitle: '系统错误，请稍后再试'\n\t\t\t// \t})\n\t\t\t// })\n\t\t},\n\t\tgetUserInfo() {\n\t\t\tthis.$http.get('/User/userInfo')\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.info = res.data;\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '请重新登录'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\t\t// 修改背景图片\n\t\tchangeBgImage() {\n\t\t\tlet that = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.$http.uploadFile(res.tempFilePaths[0]).then(res => {\n\t\t\t\t\t\t\tthis.$http.put('/User/changeBgImage', res.data)\n\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\tif (res.code === 1) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\t\t\ttitle: '修改成功!',\n\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getList();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttest() {\n\t\t\tthis.navigateTo('../test/test');\n\t\t},\n\t\tnavigateTo(url) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: url\n\t\t\t});\n\t\t},\n\t\tlike(index) {\n\t\t\tlet account = uni.getStorageSync('account');\n\t\t\tlet date = new Date();\n\t\t\tif (this.post[index].islike == 0) {\n\t\t\t\tthis.post[index].islike = 1;\n\t\t\t\tthis.post[index].likeList.push({\n\t\t\t\t\tuid: account,\n\t\t\t\t\tname: this.info.name,\n\t\t\t\t\tavatar: this.info.avatar\n\t\t\t\t});\n\t\t\t\tthis.$http.post('/Community/like', {\n\t\t\t\t\tpost_id: this.post[index].post_id,\n\t\t\t\t\tuid: account,\n\t\t\t\t\tavatar: this.info.avatar,\n\t\t\t\t\tname: this.info.name,\n\t\t\t\t\tpost_uid: this.post[index].uid,\n\t\t\t\t\tpost_avatar: this.post[index].avatar,\n\t\t\t\t\tpost_name: this.post[index].name, \n\t\t\t\t\tpost_content: JSON.stringify(this.post[index].content),\n\t\t\t\t\ttimestamp: date.getTime()\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.post[index].islike = 0;\n\t\t\t\tlet like_id = ''; \n\t\t\t\tfor (let i = 0; i < this.post[index].likeList.length; i++) {\n\t\t\t\t\tif (this.post[index].likeList[i].uid == account) {\n\t\t\t\t\t\tlike_id = this.post[index].likeList[i].like_id;\n\t\t\t\t\t\tthis.post[index].likeList.splice(i, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$http.put('/Community/like', { \n\t\t\t\t\tlike_id\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomment(index) {\n\t\t\tthis.showInput = true; //调起input框\n\t\t\tthis.focus = true;\n\t\t\tthis.index = index;\n\t\t},\n\t\tadjust() { //当弹出软键盘发生评论动作时,调整页面位置pageScrollTo\n\t\t\treturn;\n\t\t\tuni.createSelectorQuery().selectViewport().scrollOffset(res => {\n\t\t\t\tvar scrollTop = res.scrollTop;\n\t\t\t\tlet view = uni.createSelectorQuery().select(\"#post-\" + this.index);\n\t\t\t\tview.boundingClientRect(data => {\n\t\t\t\t\tconsole.log(\"data:\" + JSON.stringify(data));\n\t\t\t\t\tconsole.log(\"手机屏幕高度:\" + this.screenHeight);\n\t\t\t\t\tconsole.log(\"竖直滚动位置\" + scrollTop);\n\t\t\t\t\tconsole.log(\"节点离页面顶部的距离为\" + data.top);\n\t\t\t\t\tconsole.log(\"节点高度为\" + data.height);\n\t\t\t\t\tconsole.log(\"窗口高度为\" + this.windowHeight);\n\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\tscrollTop: scrollTop - (this.windowHeight - (data.height + data.top + 45)), //一顿乱算\n\t\t\t\t\t\t// scrollTop: 50, \n\t\t\t\t\t\tduration: 300\n\t\t\t\t\t});\n\t\t\t\t}).exec();\n\t\t\t}).exec();\n\t\t},\n\t\treply(index, comment_index) {\n\t\t\tthis.is_reply = true; //回复中\n\t\t\tthis.showInput = true; //调起input框\n\t\t\tlet replyTo = this.post[index].comments[comment_index].name;\n\t\t\tthis.input_placeholder = '回复' + replyTo;\n\t\t\tthis.index = index; //post索引\n\t\t\tthis.comment_index = comment_index; //评论索引\n\t\t\tthis.focus = true;\n\t\t},\n\t\tblur: function() {\n\t\t\tthis.init_input();\n\t\t},\n\t\tsend_comment: function(message) {\n\t\t\tlet account = uni.getStorageSync('account');\n\t\t\tlet that = this;\n\t\t\t// if (this.is_reply) {\n\t\t\t// \tvar reply_username = this.post[this.index].comments.content[this.comment_index].name;\n\t\t\t// \tvar comment_content = '回复' + reply_username + ':' + message.content;\n\t\t\t// } else {\n\t\t\tlet comment_content = message.content;\n\t\t\t// }\n\t\t\t// this.post[this.index].comments.total += 1; \n\t\t\tthis.post[this.index].comments.push({\n\t\t\t\tuid: account,\n\t\t\t\tname: this.info.name,\n\t\t\t\tavatar: this.info.avatar, \n\t\t\t\tcontent: comment_content, //直接获取input中的值 \n\t\t\t\tto_uid: this.post[this.index].comments[this.comment_index] ? this.post[this.index].comments[\n\t\t\t\t\tthis.comment_index].uid : '',\n\t\t\t\tto_name: this.post[this.index].comments[this.comment_index] ? this.post[this.index].comments[\n\t\t\t\t\tthis.comment_index].name : '',\n\t\t\t\tto_avatar: this.post[this.index].comments[this.comment_index] ? this.post[this.index].comments[\n\t\t\t\t\tthis.comment_index].avatar : ''  \n\t\t\t});\n\t\t\tlet date = new Date();\n\t\t\tthis.$http.post('/Community/commentsList', {\n\t\t\t\tpost_id: this.post[this.index].post_id,\n\t\t\t\tuid: account,\n\t\t\t\tname: this.info.name,\n\t\t\t\tavatar: this.info.avatar, \n\t\t\t\tcontent: comment_content,\n\t\t\t\ttimestamp: date.getTime(),  \n\t\t\t\tto_uid: this.post[this.index].comments[this.comment_index] ? this.post[this.index].comments[\n\t\t\t\t\tthis.comment_index].uid : '',\n\t\t\t\tto_name: this.post[this.index].comments[this.comment_index] ? this.post[this.index].comments[\n\t\t\t\t\tthis.comment_index].name : '',\n\t\t\t\tto_avatar: this.post[this.index].comments[this.comment_index] ? this.post[this.index].comments[\n\t\t\t\t\tthis.comment_index].avatar : ''\n\t\t\t\t// comments: JSON.stringify(this.post[this.index].comments)\n\t\t\t}).then(res => {\n\t\t\t\tthat.getList();\n\t\t\t}).catch(err => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none', \n\t\t\t\t\ttitle: '系统错误，请稍后再试!'\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.init_input();\n\t\t},\n\t\tinit_input() {\n\t\t\tthis.showInput = false;\n\t\t\tthis.focus = false;\n\t\t\tthis.input_placeholder = '评论';\n\t\t\tthis.is_reply = false;\n\t\t},\n\t\tpreviewImage(imageList, image_index) {\n\t\t\tfor (let i = 0; i < imageList.length; i++) {\n\t\t\t\timageList[i] = this.api + imageList[i];\n\t\t\t}\n\t\t\tconsole.log(imageList)\n\t\t\tvar current = imageList[image_index];\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: current,\n\t\t\t\turls: imageList\n\t\t\t});\n\t\t},\n\t\tgoPublish() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'publish?avatar=' + this.info.avatar + '&name=' + this.info.name,\n\t\t\t\tsuccess: res => {},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t},\n\t\tgoPublish_video() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'publish_video?avatar=' + this.info.avatar + '&name=' + this.info.name,\n\t\t\t\tsuccess: res => {},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t},\n\t\t// 查看用户详情\n\t\tenterDetail(id){\n\t\t\tuni.navigateTo({ \n\t\t\t\turl: 'userDetail?id='+id \n\t\t\t})\n\t\t}\n\t},\n}\n","import mod from \"-!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-2!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=style&index=0&id=1f3705f2&scoped=true&lang=less&\"; export default mod; export * from \"-!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-2!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\谷歌浏览器下载\\\\HBuilderX.2.6.8.20200330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./community.vue?vue&type=style&index=0&id=1f3705f2&scoped=true&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587909880866\n      var cssReload = require(\"D:/谷歌浏览器下载/HBuilderX.2.6.8.20200330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}